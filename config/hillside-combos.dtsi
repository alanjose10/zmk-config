#define COMBO_TERM_FAST 20
#define COMBO_TERM_SLOW 30

#define COMBO_IDLE_FAST 150
#define COMBO_IDLE_SLOW 50

// Define mod-morph with a *single* mod trigger for less repetition.
#define SIMPLE_MORPH(NAME, MOD, BINDING1, BINDING2)                            \
  ZMK_MOD_MORPH(NAME, mods = <(MOD_L##MOD | MOD_R##MOD)>;                      \
                bindings = <BINDING1>, <BINDING2>;)

// CHORDS

// LEFT SIDE

// Chord for -
ZMK_COMBO(ch_minus, &kp MINUS, LT1 LM1, MAC_L LNX_L, COMBO_TERM_FAST, COMBO_IDLE_FAST)

// Chord for +
ZMK_COMBO(ch_plus, &kp PLUS, LT2 LM2, MAC_L LNX_L, COMBO_TERM_FAST, COMBO_IDLE_FAST)

// Chord for =
ZMK_COMBO(ch_equal, &kp EQUAL, LM1 LB1, MAC_L LNX_L, COMBO_TERM_FAST, COMBO_IDLE_FAST)

// Chord for !
ZMK_COMBO(ch_excl, &kp EXCL, LM2 LB2, MAC_L LNX_L, COMBO_TERM_FAST, COMBO_IDLE_FAST)

// Chord for `
ZMK_COMBO(ch_grave, &kp GRAVE, LM3 LB3, MAC_L LNX_L, COMBO_TERM_FAST, COMBO_IDLE_FAST)

// Chord for ~
ZMK_COMBO(ch_tilde, &kp TILDE, LT3 LM3, MAC_L LNX_L, COMBO_TERM_FAST, COMBO_IDLE_FAST)


// RIGHT SIDE

// Chord for '
ZMK_COMBO(ch_sqt, &kp SQT, RT1 RM1, MAC_L LNX_L, COMBO_TERM_FAST, COMBO_IDLE_FAST)

// Chord for "
ZMK_COMBO(ch_dqt, &kp DQT, RT2 RM2, MAC_L LNX_L, COMBO_TERM_FAST, COMBO_IDLE_FAST)

// Chord for _
ZMK_COMBO(ch_under, &kp UNDER, RM1 RB1, MAC_L LNX_L, COMBO_TERM_FAST, COMBO_IDLE_FAST)

// Chord for %
ZMK_COMBO(ch_prcnt, &kp PRCNT, 20 34, MAC_L LNX_L, COMBO_TERM_FAST, COMBO_IDLE_FAST)

// Chord for *
ZMK_COMBO(ch_astrk, &kp ASTRK, RT3 RM3, MAC_L LNX_L, COMBO_TERM_FAST, COMBO_IDLE_FAST)

// Chord for &
ZMK_COMBO(ch_amps, &kp AMPS, RM3 RB3, MAC_L LNX_L, COMBO_TERM_FAST, COMBO_IDLE_FAST)

// BOTH SIDES

// Toggle Mac/Linux base
ZMK_COMBO(ch_toggle_os_to_linux, &to LNX_L, LH2 RH2, MAC_L, COMBO_TERM_SLOW)
ZMK_COMBO(ch_toggle_os_to_mac, &to MAC_L, LH2 RH2, LNX_L, COMBO_TERM_SLOW)

// Soft reboot to clear any transient stuck state
ZMK_COMBO(ch_soft_reset, &sys_reset, LT5 RT5, MAC_L LNX_L SYMBOL_L NAV_MAC_L NAV_LNX_L, COMBO_TERM_SLOW)

// Dongle bootloader 
ZMK_COMBO(ch_dongle_bootloader, &bootloader, LM5 RM5, MAC_L LNX_L, COMBO_TERM_SLOW)
