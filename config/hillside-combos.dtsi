#define COMBO_TERM_FAST 20
#define COMBO_TERM_SLOW 30

#define COMBO_IDLE_FAST 150
#define COMBO_IDLE_SLOW 50

// Define mod-morph with a *single* mod trigger for less repetition.
#define SIMPLE_MORPH(NAME, MOD, BINDING1, BINDING2)                            \
  ZMK_MOD_MORPH(NAME, mods = <(MOD_L##MOD | MOD_R##MOD)>;                      \
                bindings = <BINDING1>, <BINDING2>;)

// CHORDS

// LEFT SIDE

/* Chord for ` / ~ -> LT2 LT1
Tap: ` 
Shft + tap: ~
*/
SIMPLE_MORPH(mph_grave_tilde, SFT, &kp GRAVE, &kp TILDE)
ZMK_COMBO(ch_grave_tilde,  &mph_grave_tilde, LT2 LT1, DEF_L DEF_HRM_L, COMBO_TERM_FAST, COMBO_IDLE_FAST)

/* Chord for + / - -> LM1 LM0
Tap: + 
Shft + tap: -
*/
SIMPLE_MORPH(mph_plus_minus, SFT, &kp PLUS, &kp MINUS)
ZMK_COMBO(ch_plus_minus,  &mph_plus_minus, LM1 LM0, DEF_L DEF_HRM_L, COMBO_TERM_FAST, COMBO_IDLE_FAST)

/* Chord for = / ! -> LB2 LB1
Tap: = 
Shft + tap: !
*/
SIMPLE_MORPH(mph_eq_excl, SFT, &kp EQUAL, &kp EXCL)
ZMK_COMBO(ch_eq_excl,  &mph_eq_excl, LB2 LB1, DEF_L DEF_HRM_L, COMBO_TERM_FAST, COMBO_IDLE_FAST)



// RIGHT SIDE

/* Chord for " / ' -> RT1 RT2
Tap: ' 
Shft + tap: "
*/
SIMPLE_MORPH(mph_quotes, SFT, &kp SQT, &kp DQT)
ZMK_COMBO(ch_quotes,  &mph_quotes, RT1 RT2, DEF_L DEF_HRM_L, COMBO_TERM_FAST, COMBO_IDLE_FAST)

/* Chord for * / & -> RM0 RM1
Tap: * 
Shft + tap: &
*/
SIMPLE_MORPH(mph_ast_amp, SFT, &kp ASTRK, &kp AMPS)
ZMK_COMBO(ch_ast_amp,  &mph_ast_amp, RM0 RM1, DEF_L DEF_HRM_L, COMBO_TERM_FAST, COMBO_IDLE_FAST)

/* Chord for _ / \ -> RB1 RB2
Tap: _ 
Shft + tap: \
*/
SIMPLE_MORPH(mph_und_bslh, SFT, &kp UNDER, &kp BSLH)
ZMK_COMBO(ch_mph_und_bslh,  &mph_und_bslh, RB1 RB2, DEF_L DEF_HRM_L, COMBO_TERM_FAST, COMBO_IDLE_FAST)

// BOTH SIDES

// Unlock ZMK Studio
ZMK_COMBO(ch_studio_unlock,  &studio_unlock, LH4 RH4, DEF_L DEF_HRM_L, COMBO_TERM_SLOW)